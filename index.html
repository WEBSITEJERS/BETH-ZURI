<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Práctica de Verbos Irregulares</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #1a3a8f 0%, #2c5aa0 100%);
            color: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .description {
            font-size: 1.1rem;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .exercise-types {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .type-btn {
            padding: 12px 25px;
            background-color: #2c5aa0;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
        }
        
        .type-btn:hover {
            background-color: #1a3a8f;
        }
        
        .type-btn.active {
            background-color: #0d2b6c;
        }
        
        .exercise-container {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        
        .exercise-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #1a3a8f;
            border-bottom: 2px solid #eaeaea;
            padding-bottom: 10px;
        }
        
        .verb-display {
            font-size: 1.8rem;
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            background-color: #f0f5ff;
            border-radius: 8px;
            font-weight: bold;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        input[type="text"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        input[type="text"]:focus {
            border-color: #2c5aa0;
            outline: none;
        }
        
        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .option-btn {
            padding: 12px;
            background-color: #f0f5ff;
            border: 2px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        .option-btn:hover {
            background-color: #e1ebff;
        }
        
        .option-btn.selected {
            background-color: #2c5aa0;
            color: white;
            border-color: #2c5aa0;
        }
        
        .btn {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: #2c5aa0;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: background-color 0.3s;
            margin-top: 20px;
        }
        
        .btn:hover {
            background-color: #1a3a8f;
        }
        
        .result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 5px;
            text-align: center;
            font-weight: bold;
            display: none;
        }
        
        .correct {
            background-color: #e6f7e9;
            color: #2e7d32;
            border: 1px solid #4caf50;
        }
        
        .incorrect {
            background-color: #ffebee;
            color: #c62828;
            border: 1px solid #f44336;
        }
        
        .score-display {
            text-align: center;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }
        
        .verb-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }
        
        .verb-card {
            background-color: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #2c5aa0;
        }
        
        .verb-card h3 {
            color: #1a3a8f;
            margin-bottom: 10px;
        }
        
        .verb-card p {
            margin-bottom: 5px;
        }
        
        footer {
            text-align: center;
            margin-top: 50px;
            padding: 20px;
            color: #666;
            font-size: 0.9rem;
            position: relative;
        }
        
        .watermark {
            position: absolute;
            bottom: 10px;
            right: 10px;
            font-size: 0.8rem;
            color: rgba(0, 0, 0, 0.2);
        }
        
        @media (max-width: 768px) {
            .options-container {
                grid-template-columns: 1fr;
            }
            
            .verb-list {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Práctica de Verbos Irregulares en Inglés</h1>
            <p class="description">Practica los verbos irregulares en inglés con estos ejercicios interactivos. Selecciona el tipo de ejercicio y completa las formas verbales correctas.</p>
        </header>
        
        <div class="exercise-types">
            <button class="type-btn active" data-type="base-to-past">Base → Pasado/Participio</button>
            <button class="type-btn" data-type="spanish-to-past">Español → Pasado/Participio</button>
            <button class="type-btn" data-type="multiple-choice">Opción Múltiple</button>
        </div>
        
        <div class="score-display">
            <p>Puntuación: <span id="score">0</span> / <span id="total">0</span></p>
        </div>
        
        <div class="exercise-container">
            <h2 class="exercise-title" id="current-exercise-title">Verbo Base a Pasado/Participio</h2>
            
            <div id="base-to-past" class="exercise-content">
                <div class="verb-display" id="base-verb">---</div>
                <div class="input-group">
                    <label for="past-simple">Pasado Simple:</label>
                    <input type="text" id="past-simple" placeholder="Escribe el pasado simple">
                </div>
                <div class="input-group">
                    <label for="past-participle">Participio Pasado:</label>
                    <input type="text" id="past-participle" placeholder="Escribe el participio pasado">
                </div>
                <button class="btn" id="check-base">Verificar Respuesta</button>
            </div>
            
            <div id="spanish-to-past" class="exercise-content" style="display: none;">
                <div class="verb-display" id="spanish-verb">---</div>
                <div class="input-group">
                    <label for="spanish-past-simple">Pasado Simple:</label>
                    <input type="text" id="spanish-past-simple" placeholder="Escribe el pasado simple">
                </div>
                <div class="input-group">
                    <label for="spanish-past-participle">Participio Pasado:</label>
                    <input type="text" id="spanish-past-participle" placeholder="Escribe el participio pasado">
                </div>
                <button class="btn" id="check-spanish">Verificar Respuesta</button>
            </div>
            
            <div id="multiple-choice" class="exercise-content" style="display: none;">
                <div class="verb-display" id="mc-verb">---</div>
                <p id="mc-question">Selecciona la forma correcta:</p>
                <div class="options-container" id="mc-options">
                    <!-- Las opciones se generarán dinámicamente -->
                </div>
                <button class="btn" id="check-mc">Verificar Respuesta</button>
            </div>
            
            <div class="result" id="result"></div>
            
            <button class="btn" id="next-verb">Siguiente Verbo</button>
        </div>
        
        <h2>Lista Completa de Verbos</h2>
        <div class="verb-list" id="verb-list">
            <!-- La lista de verbos se generará dinámicamente -->
        </div>
        
        <footer>
            <p>© 2023 Práctica de Verbos Irregulares. Todos los derechos reservados.</p>
            <div class="watermark">IPN-JERS-BBVA</div>
        </footer>
    </div>

    <script>
        // Lista de verbos irregulares combinando ambos archivos
        const irregularVerbs = [
            { base: "Arise", past: "Arose", participle: "Arisen", spanish: "Surgir, Levantarse" },
            { base: "Awake", past: "Awoke", participle: "Awoken", spanish: "Despertarse" },
            { base: "Be", past: "Was/Were", participle: "Been", spanish: "Ser/Estar" },
            { base: "Bear", past: "Bore", participle: "Borne/Born", spanish: "Soportar, dar a luz" },
            { base: "Beat", past: "Beat", participle: "Beaten", spanish: "Golpear" },
            { base: "Become", past: "Became", participle: "Become", spanish: "Llegar a Ser" },
            { base: "Begin", past: "Began", participle: "Begun", spanish: "Empezar" },
            { base: "Bend", past: "Bent", participle: "Bent", spanish: "Doblar" },
            { base: "Bet", past: "Bet", participle: "Bet", spanish: "Apostar" },
            { base: "Bind", past: "Bound", participle: "Bound", spanish: "Atar, encuadernar" },
            { base: "Bid", past: "Bid", participle: "Bid", spanish: "Pujar" },
            { base: "Bite", past: "Bit", participle: "Bitten", spanish: "Morder" },
            { base: "Bleed", past: "Bled", participle: "Bled", spanish: "Sangrar" },
            { base: "Blow", past: "Blew", participle: "Blown", spanish: "Soplar" },
            { base: "Break", past: "Broke", participle: "Broken", spanish: "Romper" },
            { base: "Breed", past: "Bred", participle: "Bred", spanish: "Criar" },
            { base: "Bring", past: "Brought", participle: "Brought", spanish: "Traer Llevar" },
            { base: "Broadcast", past: "Broadcast", participle: "Broadcast", spanish: "Radiar" },
            { base: "Build", past: "Built", participle: "Built", spanish: "Edificar" },
            { base: "Burn", past: "Burnt/Burned", participle: "Burnt/Burned", spanish: "Quemar" },
            { base: "Burst", past: "Burst", participle: "Burst", spanish: "Reventar" },
            { base: "Buy", past: "Bought", participle: "Bought", spanish: "Comprar" },
            { base: "Cast", past: "Cast", participle: "Cast", spanish: "Arrojar" },
            { base: "Catch", past: "Caught", participle: "Caught", spanish: "Coger" },
            { base: "Come", past: "Came", participle: "Come", spanish: "Venir" },
            { base: "Cost", past: "Cost", participle: "Cost", spanish: "Costar" },
            { base: "Cut", past: "Cut", participle: "Cut", spanish: "Cortar" },
            { base: "Choose", past: "Chose", participle: "Chosen", spanish: "Elegir" },
            { base: "Cling", past: "Clung", participle: "Clung", spanish: "Agarrarse" },
            { base: "Creep", past: "Crept", participle: "Crept", spanish: "Arrastrarse" },
            { base: "Deal", past: "Dealt", participle: "Dealt", spanish: "Tratar" },
            { base: "Dig", past: "Dug", participle: "Dug", spanish: "Cavar" },
            { base: "Do", past: "Did", participle: "Done", spanish: "Hacer" },
            { base: "Draw", past: "Drew", participle: "Drawn", spanish: "Dibujar" },
            { base: "Dream", past: "Dreamt/Dreamed", participle: "Dreamt/Dreamed", spanish: "Soñar" },
            { base: "Drink", past: "Drank", participle: "Drunk", spanish: "Beber" },
            { base: "Drive", past: "Drove", participle: "Driven", spanish: "Conducir" },
            { base: "Eat", past: "Ate", participle: "Eaten", spanish: "Comer" },
            { base: "Fall", past: "Fell", participle: "Fallen", spanish: "Caer" },
            { base: "Feed", past: "Fed", participle: "Fed", spanish: "Alimentar" },
            { base: "Feel", past: "Felt", participle: "Felt", spanish: "Sentir" },
            { base: "Fight", past: "Fought", participle: "Fought", spanish: "Luchar" },
            { base: "Find", past: "Found", participle: "Found", spanish: "Encontrar" },
            { base: "Flee", past: "Fled", participle: "Fled", spanish: "Huir" },
            { base: "Fly", past: "Flew", participle: "Flown", spanish: "Volar" },
            { base: "Forbid", past: "Forbade", participle: "Forbidden", spanish: "Prohibir" },
            { base: "Forget", past: "Forgot", participle: "Forgotten", spanish: "Olvidar" },
            { base: "Forgive", past: "Forgave", participle: "Forgiven", spanish: "Perdonar" },
            { base: "Freeze", past: "Froze", participle: "Frozen", spanish: "Helar" },
            { base: "Get", past: "Got", participle: "Got/Gotten", spanish: "Obtener" },
            { base: "Give", past: "Gave", participle: "Given", spanish: "Dar" },
            { base: "Go", past: "Went", participle: "Gone", spanish: "Ir" },
            { base: "Grow", past: "Grew", participle: "Grown", spanish: "Crecer" },
            { base: "Grind", past: "Ground", participle: "Ground", spanish: "Moler" },
            { base: "Hang", past: "Hung", participle: "Hung", spanish: "Colgar" },
            { base: "Have", past: "Had", participle: "Had", spanish: "Haber o Tener" },
            { base: "Hear", past: "Heard", participle: "Heard", spanish: "Oir" },
            { base: "Hide", past: "Hid", participle: "Hidden", spanish: "Ocultar" },
            { base: "Hit", past: "Hit", participle: "Hit", spanish: "Golpear" },
            { base: "Hold", past: "Held", participle: "Held", spanish: "Agarrar Celebrar" },
            { base: "Hurt", past: "Hurt", participle: "Hurt", spanish: "Herir" },
            { base: "Keep", past: "Kept", participle: "Kept", spanish: "Conservar" },
            { base: "Know", past: "Knew", participle: "Known", spanish: "Saber Conocer" },
            { base: "Kneel", past: "Knelt", participle: "Knelt", spanish: "Arrodillarse" },
            { base: "Knit", past: "Knit", participle: "Knit", spanish: "Hacer punto" },
            { base: "Lay", past: "Laid", participle: "Laid", spanish: "Poner" },
            { base: "Lead", past: "Led", participle: "Led", spanish: "Conducir" },
            { base: "Lean", past: "Leant", participle: "Leant", spanish: "Apoyarse" },
            { base: "Leap", past: "Leapt", participle: "Leapt", spanish: "Brincar" },
            { base: "Learn", past: "Learnt/Learned", participle: "Learnt/Learned", spanish: "Aprender" },
            { base: "Leave", past: "Left", participle: "Left", spanish: "Dejar" },
            { base: "Lend", past: "Lent", participle: "Lent", spanish: "Prestar" },
            { base: "Let", past: "Let", participle: "Let", spanish: "Permitir" },
            { base: "Lie", past: "Lay", participle: "Lain", spanish: "Echarse" },
            { base: "Light", past: "Lit", participle: "Lit", spanish: "Encender" },
            { base: "Lose", past: "Lost", participle: "Lost", spanish: "Perder" },
            { base: "Make", past: "Made", participle: "Made", spanish: "Hacer" },
            { base: "Mean", past: "Meant", participle: "Meant", spanish: "Significar" },
            { base: "Meet", past: "Met", participle: "Met", spanish: "Encontrar" },
            { base: "Mistake", past: "Mistook", participle: "Mistaken", spanish: "Equivocar" },
            { base: "Overcome", past: "Overcame", participle: "Overcome", spanish: "Vencer" },
            { base: "Pay", past: "Paid", participle: "Paid", spanish: "Pagar" },
            { base: "Put", past: "Put", participle: "Put", spanish: "Poner" },
            { base: "Read", past: "Read", participle: "Read", spanish: "Leer" },
            { base: "Ride", past: "Rode", participle: "Ridden", spanish: "Montar" },
            { base: "Ring", past: "Rang", participle: "Rung", spanish: "Llamar" },
            { base: "Rise", past: "Rose", participle: "Risen", spanish: "Levantarse" },
            { base: "Run", past: "Ran", participle: "Run", spanish: "Correr" },
            { base: "Say", past: "Said", participle: "Said", spanish: "Decir" },
            { base: "See", past: "Saw", participle: "Seen", spanish: "Ver" },
            { base: "Seek", past: "Sought", participle: "Sought", spanish: "Buscar" },
            { base: "Sell", past: "Sold", participle: "Sold", spanish: "Vender" },
            { base: "Send", past: "Sent", participle: "Sent", spanish: "Enviar" },
            { base: "Set", past: "Set", participle: "Set", spanish: "Poner(se)" },
            { base: "Sew", past: "Sewed", participle: "Sewed/Sewn", spanish: "Coser" },
            { base: "Shake", past: "Shook", participle: "Shaken", spanish: "Sacudir" },
            { base: "Shear", past: "Shore", participle: "Shorn", spanish: "Esquilar" },
            { base: "Shine", past: "Shone", participle: "Shone", spanish: "Brillar" },
            { base: "Shoot", past: "Shot", participle: "Shot", spanish: "Disparar" },
            { base: "Show", past: "Showed", participle: "Shown", spanish: "Mostrar" },
            { base: "Shrink", past: "Shrank", participle: "Shrunk", spanish: "Encogerse" },
            { base: "Shut", past: "Shut", participle: "Shut", spanish: "Cerrar" },
            { base: "Sing", past: "Sang", participle: "Sung", spanish: "Cantar" },
            { base: "Sink", past: "Sank", participle: "Sunk", spanish: "Hundir" },
            { base: "Sit", past: "Sat", participle: "Sat", spanish: "Sentarse" },
            { base: "Sleep", past: "Slept", participle: "Slept", spanish: "Dormir" },
            { base: "Slide", past: "Slid", participle: "Slid", spanish: "Resbalar" },
            { base: "Smell", past: "Smelt", participle: "Smelt", spanish: "Oler" },
            { base: "Sow", past: "Sowed", participle: "Sowed/Sown", spanish: "Sembrar" },
            { base: "Speak", past: "Spoke", participle: "Spoken", spanish: "Haber" },
            { base: "Speed", past: "Sped", participle: "Sped", spanish: "Acelerar" },
            { base: "Spell", past: "Spelt", participle: "Spelt", spanish: "Deletrear" },
            { base: "Spend", past: "Spent", participle: "Spent", spanish: "Gastar" },
            { base: "Spill", past: "Split/Spilled", participle: "Split/Spilled", spanish: "Derramar" },
            { base: "Spin", past: "Spun", participle: "Spun", spanish: "Hilar" },
            { base: "Spit", past: "Spat", participle: "Spat", spanish: "Escupir" },
            { base: "Split", past: "Split", participle: "Split", spanish: "Hender / partir / rajar" },
            { base: "Spoil", past: "Spolit/Spoiled", participle: "Spolit/Spoiled", spanish: "Estropear" },
            { base: "Spread", past: "Spread", participle: "Spread", spanish: "Extender" },
            { base: "Spring", past: "Sprang", participle: "Sprung", spanish: "Saltar" },
            { base: "Stand", past: "Stood", participle: "Stood", spanish: "Estar en pie" },
            { base: "Steal", past: "Stole", participle: "Stolen", spanish: "Robar" },
            { base: "Stick", past: "Stuck", participle: "Stuck", spanish: "Pegar Engomar" },
            { base: "Sting", past: "Stung", participle: "Stung", spanish: "Picar" },
            { base: "Stink", past: "Stank/Stunk", participle: "Stunk", spanish: "Apestar" },
            { base: "Stride", past: "Strode", participle: "Stridden", spanish: "Dar zancadas" },
            { base: "Strike", past: "Struck", participle: "Struck", spanish: "Golpear" },
            { base: "Swear", past: "Swore", participle: "Sworn", spanish: "Jurar" },
            { base: "Sweat", past: "Sweat", participle: "Sweat", spanish: "Sudar" },
            { base: "Sweep", past: "Swept", participle: "Swept", spanish: "Barrer" },
            { base: "Swell", past: "Swelled", participle: "Swollen", spanish: "Hinchar" },
            { base: "Swim", past: "Swam", participle: "Swum", spanish: "Nadar" },
            { base: "Swing", past: "Swung", participle: "Swung", spanish: "Columbiarse" },
            { base: "Take", past: "Took", participle: "Taken", spanish: "Coger" },
            { base: "Teach", past: "Taught", participle: "Taught", spanish: "Enseñar" },
            { base: "Tear", past: "Tore", participle: "Torn", spanish: "Rasgar" },
            { base: "Tell", past: "Told", participle: "Told", spanish: "Decir" },
            { base: "Think", past: "Thought", participle: "Thought", spanish: "Pensar" },
            { base: "Throw", past: "Threw", participle: "Thrown", spanish: "Arrojar Tirar" },
            { base: "Thrust", past: "Thrust", participle: "Thrust", spanish: "Introducir" },
            { base: "Tread", past: "Trod", participle: "Trodden", spanish: "Pisar, hollar" },
            { base: "Understand", past: "Understood", participle: "Understood", spanish: "Entender" },
            { base: "Undergo", past: "Underwent", participle: "Undergone", spanish: "Sufrir" },
            { base: "Undertake", past: "Undertook", participle: "Undertaken", spanish: "Emprender" },
            { base: "Wake", past: "Woke", participle: "Woken", spanish: "Despertarse" },
            { base: "Wear", past: "Wore", participle: "Worn", spanish: "Llevar puesto" },
            { base: "Weave", past: "Wove", participle: "Woven", spanish: "Tejer" },
            { base: "Weep", past: "Wept", participle: "Wept", spanish: "Llorar" },
            { base: "Wet", past: "Wet", participle: "Wet", spanish: "Mojar" },
            { base: "Win", past: "Won", participle: "Won", spanish: "Ganar" },
            { base: "Wind", past: "Wound", participle: "Wound", spanish: "Enrollar" },
            { base: "Withdraw", past: "Withdrew", participle: "Withdrawn", spanish: "Retirarse" },
            { base: "Wring", past: "Wrung", participle: "Wrung", spanish: "Torcer" },
            { base: "Write", past: "Wrote", participle: "Written", spanish: "Escribir" }
        ];

        // Variables globales
        let currentVerbIndex = 0;
        let score = 0;
        let totalAttempts = 0;
        let currentExerciseType = "base-to-past";
        let selectedOption = null;

        // Elementos DOM
        const exerciseContents = document.querySelectorAll('.exercise-content');
        const typeButtons = document.querySelectorAll('.type-btn');
        const baseVerbDisplay = document.getElementById('base-verb');
        const spanishVerbDisplay = document.getElementById('spanish-verb');
        const mcVerbDisplay = document.getElementById('mc-verb');
        const pastSimpleInput = document.getElementById('past-simple');
        const pastParticipleInput = document.getElementById('past-participle');
        const spanishPastSimpleInput = document.getElementById('spanish-past-simple');
        const spanishPastParticipleInput = document.getElementById('spanish-past-participle');
        const checkBaseBtn = document.getElementById('check-base');
        const checkSpanishBtn = document.getElementById('check-spanish');
        const checkMcBtn = document.getElementById('check-mc');
        const nextVerbBtn = document.getElementById('next-verb');
        const resultDisplay = document.getElementById('result');
        const scoreDisplay = document.getElementById('score');
        const totalDisplay = document.getElementById('total');
        const verbListContainer = document.getElementById('verb-list');
        const currentExerciseTitle = document.getElementById('current-exercise-title');
        const mcOptionsContainer = document.getElementById('mc-options');
        const mcQuestion = document.getElementById('mc-question');

        // Inicialización
        document.addEventListener('DOMContentLoaded', function() {
            // Mostrar lista de verbos
            displayVerbList();
            
            // Configurar eventos
            setupEventListeners();
            
            // Iniciar con un verbo aleatorio
            nextRandomVerb();
        });

        function setupEventListeners() {
            // Cambiar tipo de ejercicio
            typeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const type = this.getAttribute('data-type');
                    changeExerciseType(type);
                    
                    // Actualizar botones activos
                    typeButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            // Verificar respuestas
            checkBaseBtn.addEventListener('click', checkBaseToPast);
            checkSpanishBtn.addEventListener('click', checkSpanishToPast);
            checkMcBtn.addEventListener('click', checkMultipleChoice);
            
            // Siguiente verbo
            nextVerbBtn.addEventListener('click', nextRandomVerb);
            
            // Permitir Enter para verificar
            pastSimpleInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') checkBaseToPast();
            });
            
            pastParticipleInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') checkBaseToPast();
            });
            
            spanishPastSimpleInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') checkSpanishToPast();
            });
            
            spanishPastParticipleInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') checkSpanishToPast();
            });
        }

        function changeExerciseType(type) {
            // Ocultar todos los ejercicios
            exerciseContents.forEach(content => {
                content.style.display = 'none';
            });
            
            // Mostrar el ejercicio seleccionado
            document.getElementById(type).style.display = 'block';
            
            // Actualizar título
            if (type === 'base-to-past') {
                currentExerciseTitle.textContent = 'Verbo Base a Pasado/Participio';
            } else if (type === 'spanish-to-past') {
                currentExerciseTitle.textContent = 'Español a Pasado/Participio';
            } else if (type === 'multiple-choice') {
                currentExerciseTitle.textContent = 'Opción Múltiple';
            }
            
            currentExerciseType = type;
            nextRandomVerb();
        }

        function nextRandomVerb() {
            // Seleccionar un verbo aleatorio
            currentVerbIndex = Math.floor(Math.random() * irregularVerbs.length);
            const verb = irregularVerbs[currentVerbIndex];
            
            // Limpiar campos y resultado
            clearInputs();
            resultDisplay.style.display = 'none';
            resultDisplay.className = 'result';
            
            // Actualizar según el tipo de ejercicio
            if (currentExerciseType === 'base-to-past') {
                baseVerbDisplay.textContent = verb.base;
            } else if (currentExerciseType === 'spanish-to-past') {
                spanishVerbDisplay.textContent = verb.spanish;
            } else if (currentExerciseType === 'multiple-choice') {
                setupMultipleChoice(verb);
            }
        }

        function setupMultipleChoice(verb) {
            // Decidir si preguntar por pasado simple o participio
            const questionType = Math.random() > 0.5 ? 'past' : 'participle';
            const correctAnswer = questionType === 'past' ? verb.past : verb.participle;
            
            // Actualizar pregunta
            mcQuestion.textContent = questionType === 'past' 
                ? `¿Cuál es el pasado simple de "${verb.base}"?` 
                : `¿Cuál es el participio pasado de "${verb.base}"?`;
            
            // Generar opciones (1 correcta + 3 incorrectas)
            const options = [correctAnswer];
            
            // Añadir opciones incorrectas
            while (options.length < 4) {
                const randomVerb = irregularVerbs[Math.floor(Math.random() * irregularVerbs.length)];
                const randomOption = questionType === 'past' ? randomVerb.past : randomVerb.participle;
                
                // Evitar duplicados
                if (!options.includes(randomOption) && randomOption !== correctAnswer) {
                    options.push(randomOption);
                }
            }
            
            // Mezclar opciones
            shuffleArray(options);
            
            // Limpiar opciones anteriores
            mcOptionsContainer.innerHTML = '';
            selectedOption = null;
            
            // Crear botones de opciones
            options.forEach(option => {
                const button = document.createElement('button');
                button.className = 'option-btn';
                button.textContent = option;
                button.addEventListener('click', function() {
                    // Deseleccionar opción anterior
                    document.querySelectorAll('.option-btn').forEach(btn => {
                        btn.classList.remove('selected');
                    });
                    
                    // Seleccionar esta opción
                    this.classList.add('selected');
                    selectedOption = this.textContent;
                });
                
                mcOptionsContainer.appendChild(button);
            });
        }

        function checkBaseToPast() {
            const verb = irregularVerbs[currentVerbIndex];
            const userPast = pastSimpleInput.value.trim();
            const userParticiple = pastParticipleInput.value.trim();
            
            // Verificar respuestas
            const isPastCorrect = userPast.toLowerCase() === verb.past.toLowerCase();
            const isParticipleCorrect = userParticiple.toLowerCase() === verb.participle.toLowerCase();
            
            // Mostrar resultado
            showResult(isPastCorrect && isParticipleCorrect, verb);
        }

        function checkSpanishToPast() {
            const verb = irregularVerbs[currentVerbIndex];
            const userPast = spanishPastSimpleInput.value.trim();
            const userParticiple = spanishPastParticipleInput.value.trim();
            
            // Verificar respuestas
            const isPastCorrect = userPast.toLowerCase() === verb.past.toLowerCase();
            const isParticipleCorrect = userParticiple.toLowerCase() === verb.participle.toLowerCase();
            
            // Mostrar resultado
            showResult(isPastCorrect && isParticipleCorrect, verb);
        }

        function checkMultipleChoice() {
            if (!selectedOption) {
                alert('Por favor selecciona una opción');
                return;
            }
            
            const verb = irregularVerbs[currentVerbIndex];
            const questionType = mcQuestion.textContent.includes('pasado simple') ? 'past' : 'participle';
            const correctAnswer = questionType === 'past' ? verb.past : verb.participle;
            
            // Verificar respuesta
            const isCorrect = selectedOption.toLowerCase() === correctAnswer.toLowerCase();
            
            // Mostrar resultado
            showResult(isCorrect, verb);
        }

        function showResult(isCorrect, verb) {
            // Actualizar puntuación
            totalAttempts++;
            if (isCorrect) {
                score++;
            }
            
            scoreDisplay.textContent = score;
            totalDisplay.textContent = totalAttempts;
            
            // Mostrar resultado
            resultDisplay.style.display = 'block';
            resultDisplay.className = isCorrect ? 'result correct' : 'result incorrect';
            
            if (isCorrect) {
                resultDisplay.textContent = '¡Correcto!';
            } else {
                let correctAnswer = '';
                
                if (currentExerciseType === 'base-to-past') {
                    correctAnswer = `Pasado: ${verb.past}, Participio: ${verb.participle}`;
                } else if (currentExerciseType === 'spanish-to-past') {
                    correctAnswer = `Pasado: ${verb.past}, Participio: ${verb.participle}`;
                } else if (currentExerciseType === 'multiple-choice') {
                    const questionType = mcQuestion.textContent.includes('pasado simple') ? 'past' : 'participle';
                    correctAnswer = questionType === 'past' ? verb.past : verb.participle;
                }
                
                resultDisplay.textContent = `Incorrecto. La respuesta correcta es: ${correctAnswer}`;
            }
        }

        function clearInputs() {
            pastSimpleInput.value = '';
            pastParticipleInput.value = '';
            spanishPastSimpleInput.value = '';
            spanishPastParticipleInput.value = '';
            
            // Limpiar selección en opción múltiple
            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            selectedOption = null;
        }

        function displayVerbList() {
            verbListContainer.innerHTML = '';
            
            irregularVerbs.forEach(verb => {
                const verbCard = document.createElement('div');
                verbCard.className = 'verb-card';
                
                verbCard.innerHTML = `
                    <h3>${verb.base}</h3>
                    <p><strong>Español:</strong> ${verb.spanish}</p>
                    <p><strong>Pasado Simple:</strong> ${verb.past}</p>
                    <p><strong>Participio Pasado:</strong> ${verb.participle}</p>
                `;
                
                verbListContainer.appendChild(verbCard);
            });
        }

        // Función auxiliar para mezclar array
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
    </script>
</body>
</html>